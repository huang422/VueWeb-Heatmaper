# ğŸš€ å¦‚ä½•é‹è¡Œæ‡‰ç”¨ç¨‹åº

## âš¡ å¿«é€Ÿå•Ÿå‹•ï¼ˆæœ€ç°¡å–®çš„æ–¹æ³•ï¼‰

### æ­¥é©Ÿ 1: å•Ÿå‹•å¾Œç«¯ APIï¼ˆçµ‚ç«¯ 1ï¼‰

```bash
cd /home/user/Desktop/Tom/store_heatmap
./start_backend.sh
```

**ä½ æœƒçœ‹åˆ°**:
```
======================================
Starting Backend API Server...
======================================
âœ“ Using conda environment: fapi

Starting server on http://127.0.0.1:8000
API Documentation: http://127.0.0.1:8000/docs

Press CTRL+C to stop the server

INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

**âœ… æˆåŠŸæ¨™èªŒ**: çœ‹åˆ° `Uvicorn running on http://127.0.0.1:8000`

---

### æ­¥é©Ÿ 2: å•Ÿå‹•å‰ç«¯ç¶²é ï¼ˆæ–°çµ‚ç«¯ 2ï¼‰

```bash
cd /home/user/Desktop/Tom/store_heatmap
./start_frontend.sh
```

**ä½ æœƒçœ‹åˆ°**:
```
======================================
Starting Frontend Development Server...
======================================

Starting Vite dev server on http://localhost:5173

VITE v5.4.21  ready in 177 ms

âœ  Local:   http://localhost:5173/
âœ  Network: use --host to expose
```

**âœ… æˆåŠŸæ¨™èªŒ**: çœ‹åˆ° `Local: http://localhost:5173/`

---

### æ­¥é©Ÿ 3: æ‰“é–‹ç€è¦½å™¨

**åœ¨ç€è¦½å™¨ä¸­è¨ªå•**: http://localhost:5173

**âŒ ä¸è¦è¨ªå•**:
- ~~http://localhost:8000~~ ï¼ˆé€™æ˜¯ APIï¼Œæ²’æœ‰ç¶²é ç•Œé¢ï¼‰
- ~~http://localhost:8001~~
- ~~http://localhost:8002~~

---

## ğŸ¯ æ­£ç¢ºçš„è¨ªå•åœ°å€

| æœå‹™ | åœ°å€ | ç”¨é€” |
|------|------|------|
| **å‰ç«¯ç¶²é ** | http://localhost:5173 | âœ… æ‰“é–‹é€™å€‹çœ‹åœ°åœ– |
| å¾Œç«¯ API | http://localhost:8000 | âŒ ä¸è¦ç›´æ¥è¨ªå• |
| API æ–‡æª” | http://localhost:8000/docs | ğŸ“š å¯é¸ï¼šæŸ¥çœ‹ API |

---

## âš ï¸ å¸¸è¦‹éŒ¯èª¤

### éŒ¯èª¤ 1: è¨ªå•å¾Œç«¯åœ°å€çœ‹åˆ° 404

**ç—‡ç‹€**:
```
INFO:     127.0.0.1:38736 - "GET / HTTP/1.1" 404 Not Found
```

**åŸå› **: ä½ è¨ªå•äº† `http://localhost:8000`ï¼ˆå¾Œç«¯ APIï¼‰

**è§£æ±º**: è¨ªå• `http://localhost:5173`ï¼ˆå‰ç«¯ç¶²é ï¼‰

---

### éŒ¯èª¤ 2: ç«¯å£è¢«ä½”ç”¨

**ç—‡ç‹€**: å¾Œç«¯å•Ÿå‹•åœ¨ 8001 æˆ– 8002 è€Œä¸æ˜¯ 8000

**åŸå› **: ç«¯å£ 8000 å·²è¢«å…¶ä»–é€²ç¨‹ä½”ç”¨

**è§£æ±º**:
```bash
# æ‰¾å‡ºä½”ç”¨ç«¯å£çš„é€²ç¨‹
lsof -i :8000

# çµ‚æ­¢é€²ç¨‹ï¼ˆæ›¿æ› <PID> ç‚ºå¯¦éš›çš„é€²ç¨‹ IDï¼‰
kill -9 <PID>

# é‡æ–°å•Ÿå‹•å¾Œç«¯
./start_backend.sh
```

---

### éŒ¯èª¤ 3: ImportError: attempted relative import

**ç—‡ç‹€**:
```
ImportError: attempted relative import with no known parent package
```

**åŸå› **: å¾éŒ¯èª¤çš„ç›®éŒ„é‹è¡Œå¾Œç«¯

**è§£æ±º**: ä½¿ç”¨å•Ÿå‹•è…³æœ¬ï¼Œæˆ–ç¢ºä¿å¾ `backend` ç›®éŒ„é‹è¡Œï¼š
```bash
cd /home/user/Desktop/Tom/store_heatmap/backend
~/anaconda3/envs/fapi/bin/python -m src.main
```

---

### éŒ¯èª¤ 4: å‰ç«¯ç©ºç™½é é¢

**ç—‡ç‹€**: ç€è¦½å™¨æ‰“é–‹ä½†æ˜¯ç©ºç™½

**æª¢æŸ¥æ­¥é©Ÿ**:

1. **æª¢æŸ¥å¾Œç«¯æ˜¯å¦é‹è¡Œ**:
   ```bash
   curl http://localhost:8000/health
   # æ‡‰è©²è¿”å›: {"status":"ok","timestamp":"..."}
   ```

2. **æª¢æŸ¥å‰ç«¯æ˜¯å¦é‹è¡Œ**:
   ```bash
   curl http://localhost:5173
   # æ‡‰è©²è¿”å› HTML å…§å®¹
   ```

3. **æ‰“é–‹ç€è¦½å™¨æ§åˆ¶å°** (F12)
   - æŸ¥çœ‹ Console æ¨™ç±¤æ˜¯å¦æœ‰ç´…è‰²éŒ¯èª¤
   - æŸ¥çœ‹ Network æ¨™ç±¤æ˜¯å¦æœ‰å¤±æ•—çš„è«‹æ±‚

4. **æª¢æŸ¥æ˜¯å¦è¨ªå•æ­£ç¢ºçš„åœ°å€**:
   - âœ… æ­£ç¢º: http://localhost:5173
   - âŒ éŒ¯èª¤: http://localhost:8000

---

## ğŸ“Š é©—è­‰æ‡‰ç”¨æ­£å¸¸é‹è¡Œ

### æ¸¬è©¦å¾Œç«¯ API

```bash
# æ¸¬è©¦ 1: Health check
curl http://localhost:8000/health

# æ¸¬è©¦ 2: ç²å–å…ƒæ•¸æ“š
curl http://localhost:8000/api/metadata

# æ¸¬è©¦ 3: ç²å–ç†±åŠ›åœ–æ•¸æ“š
curl "http://localhost:8000/api/heatmap?month=202412&hour=0&metric=avg_total_users"

# æ¸¬è©¦ 4: ç²å–äººå£çµ±è¨ˆ
curl "http://localhost:8000/api/demographics?month=202412&hour=0&metric=avg_total_users"
```

### æ¸¬è©¦å‰ç«¯

1. æ‰“é–‹ç€è¦½å™¨: http://localhost:5173
2. æ‡‰è©²çœ‹åˆ°ï¼š
   - âœ… å°ç£åœ°åœ–
   - âœ… ç†±åŠ›åœ–é»ä½
   - âœ… æ’­æ”¾/æš«åœæŒ‰éˆ•
   - âœ… æ™‚é–“è»¸æ»‘æ¡¿
   - âœ… æœˆä»½é¸æ“‡æŒ‰éˆ•ï¼ˆ4 å€‹ï¼‰
   - âœ… åœç•™æ™‚é•·æŒ‡æ¨™é¸æ“‡ï¼ˆ4 å€‹ï¼‰
   - âœ… æ€§åˆ¥åˆ†å¸ƒé¤…åœ–
   - âœ… å¹´é½¡åˆ†å¸ƒæŸ±ç‹€åœ–

---

## ğŸ›‘ åœæ­¢æ‡‰ç”¨

### åœæ­¢å¾Œç«¯
åœ¨é‹è¡Œå¾Œç«¯çš„çµ‚ç«¯æŒ‰ `CTRL+C`

### åœæ­¢å‰ç«¯
åœ¨é‹è¡Œå‰ç«¯çš„çµ‚ç«¯æŒ‰ `CTRL+C`

---

## ğŸ”„ é‡å•Ÿæ‡‰ç”¨

å¦‚æœéœ€è¦é‡å•Ÿï¼š

```bash
# åœæ­¢æ‰€æœ‰æœå‹™ï¼ˆæŒ‰ CTRL+Cï¼‰

# é‡å•Ÿå¾Œç«¯
./start_backend.sh

# é‡å•Ÿå‰ç«¯ï¼ˆæ–°çµ‚ç«¯ï¼‰
./start_frontend.sh
```

---

## ğŸ“ æ‰‹å‹•å•Ÿå‹•ï¼ˆé€²éšï¼‰

å¦‚æœå•Ÿå‹•è…³æœ¬ä¸å·¥ä½œï¼Œå¯ä»¥æ‰‹å‹•å•Ÿå‹•ï¼š

### å¾Œç«¯
```bash
cd /home/user/Desktop/Tom/store_heatmap/backend
~/anaconda3/envs/fapi/bin/python -m src.main
```

### å‰ç«¯
```bash
cd /home/user/Desktop/Tom/store_heatmap/frontend
npm run dev
```

---

## âœ… æˆåŠŸæª¢æŸ¥æ¸…å–®

- [ ] å¾Œç«¯é¡¯ç¤º `Uvicorn running on http://127.0.0.1:8000`
- [ ] å‰ç«¯é¡¯ç¤º `Local: http://localhost:5173/`
- [ ] ç€è¦½å™¨æ‰“é–‹ http://localhost:5173
- [ ] çœ‹åˆ°å°ç£åœ°åœ–å’Œç†±åŠ›åœ–
- [ ] å¯ä»¥é»æ“Šæ’­æ”¾æŒ‰éˆ•
- [ ] å¯ä»¥æ‹–å‹•æ™‚é–“è»¸
- [ ] å¯ä»¥åˆ‡æ›æœˆä»½
- [ ] å¯ä»¥åˆ‡æ›åœç•™æ™‚é•·æŒ‡æ¨™
- [ ] å¯ä»¥çœ‹åˆ°æ€§åˆ¥å’Œå¹´é½¡åœ–è¡¨

---

## ğŸ†˜ éœ€è¦å¹«åŠ©ï¼Ÿ

1. **æª¢æŸ¥çµ‚ç«¯è¼¸å‡º** - æŸ¥çœ‹æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯
2. **æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°** - æŒ‰ F12 æŸ¥çœ‹ JavaScript éŒ¯èª¤
3. **é©—è­‰ç«¯å£** - ç¢ºä¿ 8000 å’Œ 5173 ç«¯å£å¯ç”¨
4. **æª¢æŸ¥ä¾è³´** - ç¢ºä¿å·²å®‰è£æ‰€æœ‰ä¾è³´

---

**è¨˜ä½**:
- **å¾Œç«¯** (8000) = åªæä¾›æ•¸æ“š
- **å‰ç«¯** (5173) = é¡¯ç¤ºç¶²é ç•Œé¢

**ç¸½æ˜¯è¨ªå•å‰ç«¯åœ°å€**: http://localhost:5173 ğŸ¯
